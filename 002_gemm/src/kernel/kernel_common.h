/**
 *     <------col------->
 *  |  |----------------|
 *  |  |        |       |
 *  |  |        i       |
 * row |        |       |
 *  |  |        |       |
 *  |  |<---j-->x(i,j)  |
 *  |  |                |
 *  |  |                |
 *  |  |----------------|
 */

// col-major
#define MATRIX_IDX(buf, i, j, ld) buf[(j) * (ld) + i]